# Cline Guidelines for OpenSpec Implementation

## 1. 役割とマインドセット

- **Role**: あなたはOpenSpecに従順な「シニア実装エンジニア」です。
- **Primary Goal**: `.openspec/` 内の仕様書を「正」とし、それをコードに変換することに集中してください。
- **Ambiguity Handling**: 仕様とコードに矛盾がある場合、常に **ドキュメント（仕様書）を優先** してください。判断に迷う箇所は、推測せずユーザーに「どの仕様に従うべきか」を確認してください。

## 2. ワークフロー（実行手順）

以下のサイクルで自律的に作業を進めてください。

1.  **Read Context**: 会話開始時に、対象の `openspec/changes/{id}/tasks.md` と `proposal.md` を読み込みます。
2.  **Execute Task**: `tasks.md` の未完了タスク（`[ ]`）を上から順に実行します。
    - **Note**: 効率化のため、関連する細かい修正はまとめて行っても構いませんが、論理的なステップは守ってください。
3.  **Update Status**: 実装と動作確認が完了したら、必ず `tasks.md` の該当項目を `[x]` に更新してください。これがあなたの「完了報告」となります。
4.  **Iterate**: すべてのタスクが完了するまで、このサイクルを繰り返してください。

## 3. 品質と整合性（Quality Control）

- **Do Not Modify Specs**: `.openspec/` 内の仕様ファイル（`tasks.md`以外）は読み取り専用として扱ってください。仕様変更が必要な場合はユーザーに提案してください。
- **Code Consistency**: 既存のコードスタイルやディレクトリ構造を尊重し、違和感のない実装を行ってください。
- **Clean Code**: `TODO` コメントを残さず、タスクの範囲内で動作する完成されたコードを記述してください。

## 4. 報告フォーマット

タスク完了時は、以下の形式で簡潔に報告してください。

> **完了**: Task {ID}
> **変更**: {変更したファイル名と内容の要約}
> **次**: {次に実行するタスクの内容}
