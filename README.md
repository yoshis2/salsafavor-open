# SalsaFavor - ã‚µãƒ«ã‚µç·åˆãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆ

## 1. æ¦‚è¦

ã‚µãƒ«ã‚µãƒ€ãƒ³ã‚¹ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã€ãƒ¬ãƒƒã‚¹ãƒ³æ¤œç´¢ã€é–¢é€£ã‚°ãƒƒã‚ºã®ç´¹ä»‹ãªã©ã‚’è¡Œã†ç·åˆãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆã§ã™ã€‚
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ Docker ã¨ Make ã‚’åˆ©ç”¨ã—ã¦ã€ç°¡å˜ã«ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼         | æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯                                               | é¸å®šç†ç”±ãƒ»ç‰¹å¾´                                                                                                                          |
| ---------------- | ---------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| **è¨€èª**         | **PHP 8.4**                                                | JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã®å¼·åŒ–ã«ã‚ˆã‚‹é«˜é€Ÿå‡¦ç†ã¨ã€æœ€æ–°ã®å‹å®‰å…¨æ€§ï¼ˆType Safetyï¼‰ã‚’æ´»ç”¨ã€‚                                                              |
| **FW**           | **Laravel 12**                                             | æ¥­ç•Œæ¨™æº–ã®å …ç‰¢ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚æœ€æ–°æ©Ÿèƒ½ã«ã‚ˆã‚‹é–‹ç™ºåŠ¹ç‡ã®æœ€å¤§åŒ–ã€‚                                                                        |
| **Frontend**     | **Inertia.js / React / TypeScript / Tailwind CSS**         | Inertia.jsã«ã‚ˆã‚‹SPAä½“é¨“ã¨React+TypeScriptã®å‹å®‰å…¨ãƒ»ä¿å®ˆæ€§ã€Tailwind CSSã«ã‚ˆã‚‹ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãªUIè¨­è¨ˆã€‚SSRã¯Laravel Bladeã§ä¸€éƒ¨å¯¾å¿œã€‚ |
| **Database**     | **MySQL 9.2**                                              | ä¿¡é ¼æ€§ã®é«˜ã„RDBMSã€‚ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†ã€‚                                                                                   |
| **Cache**        | **Redis**                                                  | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã€APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ãŠã‚ˆã³ã‚­ãƒ¥ãƒ¼å‡¦ç†ã®é«˜é€ŸåŒ–ã«ä½¿ç”¨ã€‚                                                             |
| **å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹** | **æ¥½å¤©API / Facebook API / Turnstile / ValueCommerce API** | æ¥½å¤©å•†å“æ¤œç´¢ãƒ»SNSé€£æºãƒ»ã‚¹ãƒ‘ãƒ é˜²æ­¢ãƒ»ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆé€£æºãªã©å¤šæ§˜ãªå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨é€£æºã€‚                                                     |

## 2. å¿…é ˆç’°å¢ƒ

- **Docker Desktop**
- **Git**
- **Make** (Mac/Linuxã¯æ¨™æº–ã€Windowsã¯WSL2æ¨å¥¨)

## 3. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®å…¨ä½“ãƒ•ãƒ­ãƒ¼ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ç‰¹ã« **Step 3 (ä¾å­˜è§£æ±º)** ãŒé‡è¦ã§ã™ã€‚

```mermaid
%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#e3f2fd', 'edgeLabelBackground':'#ffffff', 'tertiaryColor': '#fff'}}}%%

flowchart TD
    Start((Start)) --> Step1[Step 1: git clone]
    Step1 --> Step2[Step 2: .env ä½œæˆ]

    Step2 --> Step3[Step 3: DockerçµŒç”±ã§<br/>Composer Install<br/>ï¼ˆvendorãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç”Ÿæˆï¼‰]

    Step3 --> Step4[Step 4: make build<br/>ï¼ˆã‚³ãƒ³ãƒ†ãƒŠæ§‹ç¯‰ãƒ»DBè¨­å®šï¼‰]

    Step4 --> Step4_2[make up<br/>ï¼ˆã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ï¼‰]

    Step4_2 --> Browser(ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª<br/>http://localhost)

    subgraph Optional [ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º]
    Step4_2 -.-> Step5[Step 5: make dev<br/>ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ“ãƒ«ãƒ‰ï¼‰]
    end

    style Step3 fill:#fff9c4,stroke:#fbc02d,stroke-width:2px
    style Step4 fill:#c8e6c9,stroke:#43a047,stroke-width:2px

```

### Step 1: ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¸ç§»å‹•ã—ã¾ã™ã€‚

```bash
git clone git@github.com:yoshis2/salsafavor.git
cd salsafavor

```

### Step 2: ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™

`.env.example` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `.env` ã‚’ä½œæˆã—ã¾ã™ã€‚
ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæƒ…å ±ã‚„å¤–éƒ¨APIã®ã‚­ãƒ¼ãªã©ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

```bash
cp .env.example .env

```

### Step 3: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (Sailã®å°å…¥)

`git clone` ç›´å¾Œã¯ Laravel ã®ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆvendorãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ãŒå­˜åœ¨ã—ãªã„ãŸã‚ã€`sail` ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ãˆã¾ã›ã‚“ã€‚
ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€Docker ã‚’ä»‹ã—ã¦ `composer install` ã‚’è¡Œã„ã¾ã™ã€‚

```bash
make sail
```

> **æ³¨æ„:** `.env`ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå¾Œã€å¾Œè¿°ã™ã‚‹**ã€ŒğŸ”‘ å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã®APIè¨­å®šã€**ã‚’å‚ç…§ã—ã¦å„ã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

### Step 4: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ“ãƒ«ãƒ‰ã¨èµ·å‹•

ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¥ã£ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚³ãƒ³ãƒ†ãƒŠã®æ§‹ç¯‰ãƒ»èµ·å‹•ãƒ»DBè¨­å®šã‚’ä¸€æ‹¬ã§è¡Œã„ã¾ã™ã€‚

```bash
make build
make up
```

â€» ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§ `docker-compose up -d`ã€`key:generate`ã€`migrate`ã€`npm install` ç­‰ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

### Step 5: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ“ãƒ«ãƒ‰ (ä»»æ„)

ç”»é¢ï¼ˆHTML/CSS/JSï¼‰ã®å¤‰æ›´ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åæ˜ ã•ã›ãŸã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã¾ã¾ã«ã—ã¦ãã ã•ã„ã€‚

```bash
make dev
```

---

## 4. å‹•ä½œç¢ºèª

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†å¾Œã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚

**http://localhost**

---

## 5. é–‹ç™ºã«å½¹ç«‹ã¤è¨­å®š (Tips)

### Sailã‚³ãƒãƒ³ãƒ‰ã®ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š (Mac/Linuxæ¨å¥¨)

`make` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã‚ãšã€ç›´æ¥ `sail artisan ...` ãªã©ã‚’å©ããŸã„å ´åˆã€æ¯å› `./vendor/bin/sail` ã¨æ‰“ã¤ã®ã¯æ‰‹é–“ã§ã™ã€‚ä»¥ä¸‹ã®è¨­å®šã‚’ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚

```zsh
# zshã®å ´åˆ (.zshrc ã«è¿½è¨˜)
echo "alias sail='[ -f sail ] && bash sail || bash vendor/bin/sail'" >> ~/.zshrc
source ~/.zshrc
```

---

## 6. ä¸»ãªMakefileã‚³ãƒãƒ³ãƒ‰

é–‹ç™ºã§ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã¯ `Makefile` ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

```bash
make help
```

**ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ä¾‹:**

- `make up`: ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•
- `make down`: ã‚³ãƒ³ãƒ†ãƒŠã‚’åœæ­¢
- `make in`: PHPã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹ (ã‚·ã‚§ãƒ«æ“ä½œ)

---

## 7. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

ã‚ˆã‚Šè©³ç´°ãªæƒ…å ±ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

- **[Salsafavor ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ä»•æ§˜æ›¸](openspec/references/overview.md)**
- **[Xserverç’°å¢ƒæ§‹ç¯‰ & ã€ç·Šæ€¥æ™‚ã€‘æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰](openspec/references/xserver.md)**
- **[ãƒªãƒªãƒ¼ã‚¹ã‚¿ã‚°ä½œæˆãƒ»Xserverãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †æ›¸](openspec/references/deploy.md)**
- **[DBæ“ä½œã‚¬ã‚¤ãƒ‰ (å®Œå…¨ç‰ˆ)](openspec/references/migrate.md)**
- **[Docker & Docker Compose é‹ç”¨ã‚³ãƒãƒ³ãƒ‰é›†](openspec/references/docker.md)**
- **[# ğŸ“˜ PHP/Laravel ãƒ‡ãƒãƒƒã‚°å®Œå…¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ« (å›³è§£ä»˜ããƒ»ä¿å­˜ç‰ˆ)](openspec/references/debug.md)**
